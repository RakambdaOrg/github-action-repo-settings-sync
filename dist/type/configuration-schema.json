{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "definitions": {
        "AnyRuleRule": {
            "anyOf": [
                {
                    "properties": {
                        "type": {
                            "enum": [
                                "creation",
                                "deletion",
                                "non_fast_forward",
                                "required_linear_history",
                                "required_signatures"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "update_allows_fetch_and_merge": {
                                    "type": "boolean"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "update",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "do_not_enforce_on_create": {
                                    "type": "boolean"
                                },
                                "workflows": {
                                    "items": {
                                        "properties": {
                                            "path": {
                                                "type": "string"
                                            },
                                            "ref": {
                                                "type": "string"
                                            },
                                            "repository_id": {
                                                "type": "number"
                                            },
                                            "sha": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "workflows",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "max_file_size": {
                                    "type": "number"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "max_file_size",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "required_deployment_environments": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "required_deployments",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "restricted_file_extensions": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "file_extension_restriction",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "allowed_merge_methods": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                },
                                "dismiss_stale_reviews_on_push": {
                                    "type": "boolean"
                                },
                                "require_code_owner_review": {
                                    "type": "boolean"
                                },
                                "require_last_push_approval": {
                                    "type": "boolean"
                                },
                                "required_approving_review_count": {
                                    "type": "number"
                                },
                                "required_review_thread_resolution": {
                                    "type": "boolean"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "pull_request",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "max_file_path_length": {
                                    "type": "number"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "max_file_path_length",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "do_not_enforce_on_create": {
                                    "type": "boolean"
                                },
                                "required_status_checks": {
                                    "items": {
                                        "properties": {
                                            "context": {
                                                "type": "string"
                                            },
                                            "integration_id": {
                                                "type": "number"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                },
                                "strict_required_status_checks_policy": {
                                    "type": "boolean"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "required_status_checks",
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "name": {
                                    "type": "string"
                                },
                                "negate": {
                                    "type": "boolean"
                                },
                                "operator": {
                                    "enum": [
                                        "contains",
                                        "ends_with",
                                        "regex",
                                        "starts_with"
                                    ],
                                    "type": "string"
                                },
                                "pattern": {
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "enum": [
                                "branch_name_pattern",
                                "commit_author_email_pattern",
                                "commit_message_pattern",
                                "committer_email_pattern",
                                "tag_name_pattern"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "parameters": {
                            "properties": {
                                "restricted_file_paths": {
                                    "items": {
                                        "type": "string"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "type": {
                            "const": "file_path_restriction",
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            ]
        },
        "ElementByProperty": {
            "allOf": [
                {
                    "properties": {
                        "actions": {
                            "properties": {
                                "accessPermissions": {
                                    "properties": {
                                        "access_level": {
                                            "enum": [
                                                "none",
                                                "organization",
                                                "user"
                                            ],
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                },
                                "permissions": {
                                    "properties": {
                                        "allowed_actions": {
                                            "enum": [
                                                "all",
                                                "local_only",
                                                "selected"
                                            ],
                                            "type": "string"
                                        },
                                        "enabled": {
                                            "type": "boolean"
                                        }
                                    },
                                    "type": "object"
                                },
                                "secrets": {
                                    "items": {
                                        "properties": {
                                            "name": {
                                                "type": "string"
                                            },
                                            "value": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "deleteRulesets": {
                            "items": {
                                "type": "string"
                            },
                            "type": "array"
                        },
                        "features": {
                            "properties": {
                                "allow_auto_merge": {
                                    "type": "boolean"
                                },
                                "allow_merge_commit": {
                                    "type": "boolean"
                                },
                                "allow_rebase_merge": {
                                    "type": "boolean"
                                },
                                "allow_squash_merge": {
                                    "type": "boolean"
                                },
                                "allow_update_branch": {
                                    "type": "boolean"
                                },
                                "delete_branch_on_merge": {
                                    "type": "boolean"
                                },
                                "has_discussions": {
                                    "type": "boolean"
                                },
                                "has_issues": {
                                    "type": "boolean"
                                },
                                "has_projects": {
                                    "type": "boolean"
                                },
                                "has_wiki": {
                                    "type": "boolean"
                                },
                                "is_template": {
                                    "type": "boolean"
                                },
                                "merge_commit_message": {
                                    "enum": [
                                        "BLANK",
                                        "PR_BODY",
                                        "PR_TITLE"
                                    ],
                                    "type": "string"
                                },
                                "merge_commit_title": {
                                    "enum": [
                                        "MERGE_MESSAGE",
                                        "PR_TITLE"
                                    ],
                                    "type": "string"
                                },
                                "squash_merge_commit_message": {
                                    "enum": [
                                        "BLANK",
                                        "COMMIT_MESSAGES",
                                        "PR_BODY"
                                    ],
                                    "type": "string"
                                },
                                "squash_merge_commit_title": {
                                    "enum": [
                                        "COMMIT_OR_PR_TITLE",
                                        "PR_TITLE"
                                    ],
                                    "type": "string"
                                },
                                "use_squash_pr_title_as_default": {
                                    "type": "boolean"
                                }
                            },
                            "type": "object"
                        },
                        "files": {
                            "properties": {
                                "branchName": {
                                    "type": "string"
                                },
                                "committer": {
                                    "properties": {
                                        "email": {
                                            "type": "string"
                                        },
                                        "name": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                },
                                "files": {
                                    "items": {
                                        "properties": {
                                            "destination": {
                                                "type": "string"
                                            },
                                            "source": {
                                                "type": "string"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "type": "array"
                                }
                            },
                            "type": "object"
                        },
                        "mergeFiles": {
                            "$ref": "#/definitions/MergeFilesOperation<MergeFile>"
                        },
                        "owner": {
                            "type": "string"
                        },
                        "rulesets": {
                            "items": {
                                "properties": {
                                    "bypass_actors": {
                                        "items": {
                                            "properties": {
                                                "actor_id": {
                                                    "type": [
                                                        "null",
                                                        "number"
                                                    ]
                                                },
                                                "actor_type": {
                                                    "enum": [
                                                        "DeployKey",
                                                        "Integration",
                                                        "OrganizationAdmin",
                                                        "RepositoryRole",
                                                        "Team"
                                                    ],
                                                    "type": "string"
                                                },
                                                "bypass_mode": {
                                                    "enum": [
                                                        "always",
                                                        "pull_request"
                                                    ],
                                                    "type": "string"
                                                }
                                            },
                                            "type": "object"
                                        },
                                        "type": "array"
                                    },
                                    "conditions": {
                                        "properties": {
                                            "ref_name": {
                                                "properties": {
                                                    "exclude": {
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "type": "array"
                                                    },
                                                    "include": {
                                                        "items": {
                                                            "type": "string"
                                                        },
                                                        "type": "array"
                                                    }
                                                },
                                                "type": "object"
                                            }
                                        },
                                        "type": "object"
                                    },
                                    "enforcement": {
                                        "enum": [
                                            "active",
                                            "disabled",
                                            "evaluate"
                                        ],
                                        "type": "string"
                                    },
                                    "name": {
                                        "type": "string"
                                    },
                                    "rules": {
                                        "items": {
                                            "$ref": "#/definitions/AnyRuleRule"
                                        },
                                        "type": "array"
                                    },
                                    "target": {
                                        "enum": [
                                            "branch",
                                            "push",
                                            "tag"
                                        ],
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "type": "array"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "customPropertyName": {
                            "type": "string"
                        },
                        "customPropertyValue": {
                            "type": [
                                "null",
                                "string"
                            ]
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "org": {
                            "const": true,
                            "type": "boolean"
                        },
                        "searchType": {
                            "const": "property",
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            ]
        },
        "MergeFileCondition": {
            "allOf": [
                {
                    "properties": {
                        "customPropertyName": {
                            "type": "string"
                        },
                        "customPropertyValue": {
                            "type": [
                                "null",
                                "string"
                            ]
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "source": {
                            "type": "string"
                        },
                        "type": {
                            "enum": [
                                "json",
                                "yaml",
                                "yml"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            ]
        },
        "MergeFilesOperation<MergeFile>": {
            "allOf": [
                {
                    "properties": {
                        "branchName": {
                            "type": "string"
                        },
                        "committer": {
                            "properties": {
                                "email": {
                                    "type": "string"
                                },
                                "name": {
                                    "type": "string"
                                }
                            },
                            "type": "object"
                        },
                        "files": {
                            "items": {
                                "properties": {
                                    "conditions": {
                                        "items": {
                                            "$ref": "#/definitions/MergeFileCondition"
                                        },
                                        "type": "array"
                                    },
                                    "destination": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            },
                            "type": "array"
                        }
                    },
                    "type": "object"
                },
                {
                    "properties": {
                        "type": {
                            "enum": [
                                "json",
                                "yaml",
                                "yml"
                            ],
                            "type": "string"
                        }
                    },
                    "type": "object"
                }
            ]
        }
    },
    "properties": {
        "elements": {
            "items": {
                "$ref": "#/definitions/ElementByProperty"
            },
            "type": "array"
        }
    },
    "type": "object"
}

